---
title: å›¾
toc: true
recommend: 1
uniqueId: '2020-08-01 04:03:59/"å›¾".html'
date: 2020-08-01 12:03:59
thumbnail:
categories:
- leetcode
- åˆ†ç±»
tags:
keywords:
---

[TOC]

<!--more-->

## æœ‰å‘å›¾ floyd ç®—æ³•

### 1462. è¯¾ç¨‹å®‰æŽ’ IV - åŠ›æ‰£ï¼ˆLeetCodeï¼‰

[1462. è¯¾ç¨‹å®‰æŽ’ IV - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode-cn.com/problems/course-schedule-iv/)

```python
class Solution:
    def checkIfPrerequisite(self, n: int, pres: List[List[int]], qs: List[List[int]]) -> List[bool]:
        dp = [[False for _ in range(n)] for _ in range(n)]
        for a, b in pres: dp[a][b] = True
        for k in range(n):
            for i in range(n):
                for j in range(n):
                    if dp[i][k] and dp[k][j]:
                        dp[i][j] = True
        return [dp[a][b] for a, b in qs]
```





## æ— å‘å›¾ dijkstra ç®—æ³•

### 1514. æ¦‚çŽ‡æœ€å¤§çš„è·¯å¾„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰

[1514. æ¦‚çŽ‡æœ€å¤§çš„è·¯å¾„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode-cn.com/problems/path-with-maximum-probability/)

```python
class Solution:
    def maxProbability(self, n: int, e: List[List[int]], succProb: List[float], start: int, end: int) -> float:
        # defaultdict æž„é€  graph
        graph = collections.defaultdict(dict)
        # å› ä¸ºè¿™ä¸ªé¢˜ç›®æ¯”è¾ƒç‰¹æ®Šï¼Œæƒé‡æ˜¯ä¹˜æ€§çš„å¹¶ä¸”0-1ä¹‹é—´ï¼Œæ‰€ä»¥å¯ä»¥ç”¨ä¸€ä¸ªdicè®°å½•ä»Žstartå¼€å§‹åˆ°æ¯ä¸ªèŠ‚ç‚¹çš„æœ€å¤§æƒé‡ã€‚ ç„¶åŽæ¯æ¬¡ä½ åªéœ€è¦åˆ¤æ–­popå‡ºçš„èŠ‚ç‚¹çš„æƒé‡å°±å¯ä»¥ã€‚å¦‚æžœæ¯”æ›¾ç»è®°å½•çš„dicä¸­çš„æƒé‡å°é‚£å°±æ²¡å¿…è¦ç»§ç»­ï¼ˆè¿™é‡Œé¢åŒ…å«äº†çŽ¯ï¼Œå›žå¤´ï¼‰ï¼Œå¦‚æžœæ¯”æ›¾ç»è®°å½•çš„æƒé‡å¤§ï¼Œé‚£ä¹ˆç»§ç»­è¿›è¡Œã€‚
        d = collections.defaultdict(float)
        for i in range(len(e)):
            p1, p2 = e[i]
            graph[p1][p2] = succProb[i]
            graph[p2][p1] = succProb[i]
        stack = collections.deque()
        stack.append([start, 1]) # start åˆ° å½“å‰ç‚¹ çš„ æ¦‚çŽ‡
        ans = 0
        while stack:
            cur, prob = stack.popleft()
            if cur==end:
                ans = max(ans, prob)
            elif prob>ans:
                for point, _prob in graph[cur].items():
                    if _prob*prob>ans and _prob*prob>d.get(point, 0):
                        d[point] = _prob*prob
                        stack.append([point, _prob*prob])
        return ans
```





## å…¶ä»–

### 1042. ä¸é‚»æŽ¥æ¤èŠ± - åŠ›æ‰£ï¼ˆLeetCodeï¼‰

[1042. ä¸é‚»æŽ¥æ¤èŠ± - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode-cn.com/problems/flower-planting-with-no-adjacent/)

```python
from collections import defaultdict

class Solution:
    def gardenNoAdj(self, N: int, paths: List[List[int]]) -> List[int]:
        def chooseone(exclude):
            for i in range(1, 5):
                if i not in exclude: return i

        m = defaultdict(list)
        for a, b in paths:
            m[a].append(b)
            m[b].append(a)
        res = [0]*N
        for i in m:
            res[i-1] = chooseone(exclude=[res[j-1] for j in m[i]])
        for i in range(N):
            if not res[i]: res[i] = 1
        return res


```

ç®€æ´å†™æ³•

```python
from collections import defaultdict

class Solution:
    def gardenNoAdj(self, N: int, paths: List[List[int]]) -> List[int]:
        m = defaultdict(list)
        for a, b in paths:
            m[a-1].append(b-1)
            m[b-1].append(a-1)
        res = [0]*N
        for i in range(N):
            res[i] = ({1, 2, 3, 4}-{res[j] for j in m[i]}).pop()
        return res


```

### 997. æ‰¾åˆ°å°é•‡çš„æ³•å®˜ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰

[997. æ‰¾åˆ°å°é•‡çš„æ³•å®˜ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode-cn.com/problems/find-the-town-judge/comments/)

æ™¦æ¶©çš„è§£æ³•

```python
class Solution:
    def findJudge(self, N: int, trust: List[List[int]]) -> int:
        if not trust: 
            if N==1: return 1
            return -1
        # judge ä¸åœ¨ a ä¸­
        # judge å‡ºçŽ° N-1 æ¬¡
        s = set(range(1, N+1))
        m = collections.defaultdict(int)
        for a, b in trust:
            m[b] += 1
            if a in s: s.remove(a)
        if not s or len(s)>1: return -1
        res = s.pop()
        if m[res]==N-1: return res
        return -1
```

[ã€ä¸€ä¸ªæ•°ç»„æžå®šã€‘é€šä¿—æ˜“æ‡‚ï¼ˆ997. æ‰¾åˆ°å°é•‡çš„æ³•å®˜ï¼‰ - æ‰¾åˆ°å°é•‡çš„æ³•å®˜ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode-cn.com/problems/find-the-town-judge/solution/yi-ge-shu-zu-gao-ding-tong-su-yi-dong-997-zhao-dao/)

æ³•å®˜ðŸ‘©â€âš–ï¸ å®žé™…ä¸Šå°±æ˜¯å‡ºåº¦ä¸º0ï¼Œå…¥åº¦ä¸º N - 1çš„èŠ‚ç‚¹ã€‚è¿™å›ºç„¶æ²¡é”™ï¼Œç„¶è€Œæˆ‘ä»¬ä»ç„¶å¯ä»¥æ¢ä¸ªè§’åº¦æ¥æ€è€ƒï¼Œæ³•å®˜ðŸ‘©â€âš–ï¸ åŒæ ·æ˜¯ å…¥åº¦ - å‡ºåº¦ == N - 1 çš„ç‚¹ï¼Œå¹¶ä¸”ä¸æ˜¯æ³•å®˜çš„äººä¸å¯èƒ½æ˜¯ã€‚

```python
class Solution:
    def findJudge(self, N: int, trust: List[List[int]]) -> int:
        l = [0]*N
        for a, b in trust:
            l[a-1] -= 1
            l[b-1] += 1
        for i in range(N):
            if l[i]==N-1: return i+1
        return -1
```







