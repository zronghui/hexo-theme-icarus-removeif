# [区块链共识算法的发展现状与展望](https://kns.cnki.net/kcms/detail/detail.aspx?filename=MOTO201811009&dbcode=CJFD&dbname=CJFD2018&v=)

系统性地梳理和讨论了区块链发展过程中的32种重要共识算法

## 主流共识算法

#### pow: 工作量证明

#### PoS: 权益证明

由系统中具有最高权益而非最高算力的节点获得记账权, 其中权益体现为节点对特定数量货币的所有权, 称为币龄或币天数 (Coin days) .Po S一定程度上解决了PoW算力浪费的问题, 并能够缩短达成共识的时间, 因而比特币之后的许多竞争币都采用PoS共识算法.

PPC将PoW和PoS两种共识算法结合起来, 初期采用PoW挖矿方式以使得Token相对公平地分配给矿工, 后期随着挖矿难度增加, 系统将主要由PoS共识算法维护

#### 瑞波协议共识算法 ( RPCA) 

该共识算法解决了异步网络节点通讯时的高延迟问题, 通过使用集体信任的子网络 (Collectively-trusted subnetworks) , 在只需最小化信任和最小连通性的网络环境中实现了低延迟、高鲁棒性的拜占庭容错共识算法

#### 授权股份证明算法 (DPoS) 

DPoS共识的基本思路类似于“董事会决策”, 即系统中每个节点可以将其持有的股份权益作为选票授予一个代表, 获得票数最多且愿意成为代表的前N个节点将进入“董事会”, 按照既定的时间表轮流对交易进行打包结算、并且签署 (即生产) 新区块

#### Raft共识算法



## 共识算法的模型与分类

共识过程的核心是“选主”和“记账”两部分, 在具体操作过程中每一轮可以分为选主 (Leader election) 、造块 (Block generation) 、验证 (Data validation) 和上链 (Chain updation, 即记账) 4个阶段.4个阶段循环往复执行, 每执行一轮将会生成一个新区块

区块链共识算法可以根据其容错类型、部署方式和一致性程度等多个维度加以分类.

根据选主策略 (即函数f的具体实现方式) 将区块链共识算法分为选举类、证明类、随机类、联盟类和混合类共5种类型

**选举类共识**:即矿工节点在每一轮共识过程中通过“投票选举”的方式选出当前轮次的记账节点, 首先获得半数以上选票的矿工节点将会获得记账权;多见于传统分布式一致性算法, 例如Paxos和Raft等.

**证明类共识**:也可称为“Proof of X”类共识, 即矿工节点在每一轮共识过程中必须证明自己具有某种特定的能力, 证明方式通常是竞争性地完成某项难以解决但易于验证的任务, 在竞争中胜出的矿工节点将获得记账权;例如PoW和PoS等共识算法是基于矿工的算力或者权益来完成随机数搜索任务, 以此竞争记账权.

**随机类共识**:即矿工节点根据某种随机方式直接确定每一轮的记账节点, 例如下文将要提到的Algorand和PoET共识算法等.

**联盟类共识**:即矿工节点基于某种特定方式首先选举出一组代表节点, 而后由代表节点以轮流或者选举的方式依次取得记账权.这是一种以“代议制”为特点的共识算法, 例如DPoS等.

**混合类共识**:即矿工节点采取多种共识算法的混合体来选择记账节点, 例如PoW+PoS混合共识、DPo S+BFT共识等.



