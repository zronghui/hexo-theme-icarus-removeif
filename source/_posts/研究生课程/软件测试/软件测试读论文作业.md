---
title: 软件测试读论文作业
toc: true
recommend: 1
uniqueId: '2020-06-09 05:02:15/"软件测试读论文作业".html'
date: 2020-06-09 13:02:15
thumbnail:
categories:
- 研究生课程
- 软件测试
tags:
keywords:
---

[TOC]

<!--more-->

# 《具有堆快照的超扩展静态分析》论文阅读笔记

张荣辉 2019140740

## 摘要

![image-20200613131807618](https://i.loli.net/2020/06/13/4pnVyEuiMJw9azG.png)

提出了一个“**轻量化**”分析，该分析将堆的动态快照与对程序行为的完全静态分析结合在一起。该分析具有极强的可**扩展性**，提供了超过3倍的**加速**。尽管它永远无法完全捕获所有程序行为（即，它不能与完全静态分析的近乎完美的调用相匹配），但它通常会非常接近它同时达到**更高的（3.5x）精度**

### 关键词

程序分析，堆快照，可伸缩性

## 1.引言

### 静态分析

![image-20200613131858833](https://i.loli.net/2020/06/13/vNSxoRLZg4maGbC.png)

![image-20200613131908147](https://i.loli.net/2020/06/13/d3qRJ2LU4T7eIxp.png)

**主要优点**：

完整性，即对实际行为的完美（或实际上是近乎完美的）回忆。

**通常存在两个主要缺点**：

（i）计算量大并且存在可伸缩性问题

（ii）静态分析可能缺乏准确性，通常会产生大量误报，即预测的行为不会匹配实际执行。

### 动态分析

![image-20200613132008272](https://i.loli.net/2020/06/13/cEIfzO6SQ4LFRK3.png)

**优点**：

通过将自己限制在执行程序所显示的信息上，避免了计算量大的分析，还充分利用了学习到的运行时信息的优势，例如具体的参数和内存值（否则将很难静态推断）

**缺点**

并不详尽

**因此**，程序分析的空间是由竞争质量标准定义的：完整性，准确性和可伸缩性。

本文提出了一个折衷方案，该方案试图在静态分析中合并有限的动态信息，以一定的完整性（即召回实际执行）的代价大幅度提高可伸缩性和精度。



## 3.轻量化混合分析

该方法包括对程序的静态分析，但仅考虑程序堆的动态视图



### 3.1轻量级静态分析

![image-20200613132128040](https://i.loli.net/2020/06/13/BHZeI13z64MURmw.png)

堆的建模是静态分析不可伸缩性的主要来源，为了避免建模，我们的轻量级静态分析是一个点到点的分析，它仅对堆负载（例如，从字段和数组读取）建模，而对存储（例如，字段更新）不建模

### 3.2动态分析

![image-20200613132529141](https://i.loli.net/2020/06/13/qMF43aYAbrRZVkc.png)

要生成我们的混合分析，需要为轻量级静态分析提供标准Java中的动态堆信息 HPROF 堆转储，是在程序执行期间堆和堆栈的快照 

继Grech等， 我们的 HPROF堆转储分析器充分利用了基于Java的运行时环境中对堆分析的标准跨平台支持，即能够生成包含堆中分配的所有对象以及这些对象之间的引用（堆）。堆快照脱机分析。堆快照还提供有关堆栈形状的见解：它们包括创建任何对象时产生的完整堆栈跟踪。Grech等总结了现代堆快照技术的这种功能，因为典型的堆快照还集成了成千上万的堆快照。

通常，堆转储反映了程序复杂动态行为的很大一部分，而不管这种行为的原因如何：堆转储记录了累积语义，而不是观察特定动作（例如，反射或动态加载操作）发生了什么。程序执行在其本机环境和复杂环境中的影响。同时，堆转储不会丢失捕获动态操作（例如，动态调用图），因为每个对象在分配动态对象时都会记录描述动态上下文的信息。

### 3.3合并分析

![image-20200613132551898](https://i.loli.net/2020/06/13/7YuI6e2KCl9rxZF.png)

**必须强调的是，轻量级混合分析是静态分析**

**混合分析可以利用动态分析的优势**，同时避免整个程序Java的某些弱点指针分析；反之亦然，与全面的静态分析相比，轻量级分析的主要好处是可伸缩性：动态分析在获取非常精确的堆信息方面具有出色的能力，该信息仍然可以完全捕获观察到的动态行为（但可能不会捕获其他行为）。与独立的动态分析相比，预期的好处是可以覆盖可能的程序行为，从而具有更高的完整性。

## 4.实现

![image-20200613132638938](https://i.loli.net/2020/06/13/dkFRItKhPj281G9.png)

我们在 Doop 指针和 taint 分析框架上实现 轻量混合分析。Doop 是全功能的，可处理Java语言的多个复杂语义方面，例如反射，隐式初始化，异常等。为了进行动态分析，我们使用了 heapdl 。

此外，我们对将堆快照集成到静态分析中：单例 、 缺失字段数据、反射分析



## 5.实验评估

介绍轻量级分析的实验评估结果

### 5.1可扩展性 

![image-20200613132910456](https://i.loli.net/2020/06/13/VwmPdLstzyn2H9i.png)

结论：所有基准测试结果表明，对于大型应用程序，权重分析至少比全静态分析快3.5倍；对于较小的应用程序，快达10倍以上。权重分析具有恒定的开销，这些开销在运行时占主导地位，例如可能无法访问的代码的预计算属性。

### 5.2完整性和准确性

![image-20200613132934447](https://i.loli.net/2020/06/13/XJHNfY5sFel2im3.png)

**完整性：**

全静态分析是高度完整的，可以预期得到最新的静态分析。

轻量级分析在召回率方面也很不错

**准确性**：

与全静态分析相比，轻量级分析的精度指标明显更高（方法提高2.2倍，边缘提高3.5倍）



## 6.相关工作

![image-20200613132954761](https://i.loli.net/2020/06/13/SncVr6tHaFCOJ3d.png)

![image-20200613133006841](https://i.loli.net/2020/06/13/462YIEO79k3QZeM.png)

静态和动态分析的组合空间很大。我们对相关工作的讨论只是一个示例。类似的一些工作：

使用静态分析来优化/减少运行时检查；堆快照；静态-动态分析组合；使用混合分析来发现错误；动态语言功能分析；捕获有关反射的运行时信息。



