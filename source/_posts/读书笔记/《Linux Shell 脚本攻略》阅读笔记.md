## 第 1 章 小试牛刀

### 1.2 终端打印

echo 双引号 中需要转移 单引号不用

printf 不会自己添加换行

printf "%-5s %-10s %-4s\n" No Name Mark

-5: 左对齐占 5 的长度

%s %c %n %f

echo -e "1\t2\t3" 用-e 不输出默认的换行

echo 还能输出彩色文本



### 1.3 玩转变量和环境变量

env 输出当前 shell 中全部的环境变量

**怎么查看其它进程的环境变量？**

1.通过 pgrep 获取 gedit 进程的 ID

pgrep gedit

2.cat /proc/$PID/environ



### 使用函数添加环境变量

```shell
prepend() { [ -d "$2" ] && eval $1=\"$2':'\$$1\" && export $1; }
prepend PATH /opt/myapp/bin
```

先检查第二个参数的目录是否存在，eval 表达式将第一个参数的变量值设置为 第二个参数加上 : ，再加上第一个参数的原始值

如果$1 为空，会多一个： , 书中还改进了，太复杂了，当场去世



### 1.4 通过 shell 进行数学运算

#### 整数运算

let result=no1+no2

使用 let 不需要变量前添加 $

let no1++

let no1--

let no+=6

[] 的用法和 let 一样

result=$[ no1 + no2 ]

#### 浮点数运算
```shell
result=`echo "$no * 1.5" | bc`
```

bc 还能设置浮点数的精度，支持进度转换




### **1.5 玩转文件描述符和重定向

文件描述符 0 1 2 

0： 输入 stdin

1： 输出 stdout

2： 错误 stderr

```shell
# > 等价于 1>
ls 1>stdout.txt 2>stderr.txt
# 将 stderr 转换成 stdout
ls > out.txt 2>&1
# 或
ls &> out.txt
# 可以追加到 /dev/null, 它会丢弃接收到的任何任何数据，null 也被称为黑洞

# 若既想输出到文件，又想再次使用输出，可以使用 tee
# tee 默认覆盖文件， tee -a 追加
cat a* | tee -a out.txt | cat -n

# tee - 可以将输出输出 2 次给 stdout 如:
# 我测试了下，并不行
# echo aaa | tee -
```



```shell
# <

# 文件重定向到命令
cmd < file

# 在脚本中，可以将多行文本输入到 log.txt 中
cat<<EOF>log.txt
sfsadfasdfas
asdfasd
EOF
# 一般是追加 >>
cat<<EOF>>log.txt
```







### 1.6 数组和关联数组

1.6.1 预备知识
1.6.2 实战演练
1.6.3 补充内容

### 1.7 使用别名

alias 输出所有的别名

### 1.8 获取终端信息

1.8.1 预备知识
1.8.2 实战演练

### 1.9 获取、设置日期和延时

1.9.1 预备知识
1.9.2 实战演练
1.9.3 补充内容

### 1.10 调试脚本

1.10.1 预备知识
1.10.2 实战演练
1.10.3 补充内容

### 1.11 函数和参数

1.11.1 实战演练
1.11.2 补充内容

### 1.12 读取命令序列输出

1.12.1 预备知识
1.12.2 实战演练
1.12.3 补充内容

### 1.13 以不按回车键的方式读取字符

1.13.1 预备知识
1.13.2 实战演练

### 1.14 字段分隔符和迭代器

1.14.1 预备知识
1.14.2 实战演练

### 1.15 比较与测试

1.15.1 预备知识
1.15.2 实战演练

## 第 2 章 命令之乐

2.1 简介
2.2 用 cat 进行拼接
2.2.1 预备知识
2.2.2 实战演练
2.2.3 工作原理
2.2.4 补充内容
2.3 录制与回放终端会话
2.3.1 预备知识
2.3.2 实战演练
2.3.3 工作原理
2.4 文件查找与文件列表
2.4.1 预备知识
2.4.2 实战演练
2.4.3 补充内容
2.5 玩转 xargs
2.5.1 预备知识
2.5.2 实战演练
2.5.3 工作原理
2.5.4 补充内容
2.6 用 tr 进行转换
2.6.1 预备知识
2.6.2 实战演练
2.6.3 工作原理
2.6.4 补充内容
2.7 校验和与核实
2.7.1 预备知识
2.7.2 实战演练
2.7.3 工作原理
2.7.4 补充内容
2.8 排序、单一与重复
2.8.1 预备知识
2.8.2 实战演练
2.8.3 工作原理
2.8.4 补充内容
2.9 临时文件命名与随机数
2.9.1 实战演练
2.9.2 工作原理
2.10 分割文件和数据
2.10.1 工作原理
2.10.2 补充内容
2.11 根据扩展名切分文件名
2.11.1 实战演练
2.11.2 工作原理
2.12 批量重命名和移动
2.12.1 预备知识
2.12.2 实战演练
2.12.3 工作原理
2.13 拼写检查与词典操作
2.13.1 实战演练
2.13.2 工作原理
2.14 交互输入自动化
2.14.1 预备知识
2.14.2 实战演练
2.14.3 工作原理
2.14.4 补充内容

## 第 3 章 以文件之名

3.1 简介
3.2 生成任意大小的文件
3.3 文本文件的交集与差集
3.3.1 预备知识
3.3.2 实战演练
3.4 查找并删除重复文件
3.4.1 预备知识
3.4.2 实战演练
3.4.3 工作原理
3.4.4 参考
3.5 创建长路径目录
3.5.1 预备知识
3.5.2 实战演练
3.6 文件权限、所有权和粘滞位
3.6.1 预备知识
3.6.2 实战演练
3.6.3 补充内容
3.7 创建不可修改文件
3.7.1 预备知识
3.7.2 实战演练
3.8 批量生成空白文件
3.8.1 预备知识
3.8.2 实战演练
3.9 查找符号链接及其指向目标
3.9.1 预备知识
3.9.2 实战演练
3.10 列举文件类型统计信息
3.10.1 预备知识
3.10.2 实战演练
3.10.3 工作原理
3.11 环回文件与挂载
3.11.1 预备知识
3.11.2 实战演练
3.11.3 补充内容
3.12 生成 ISO 文件及混合 ISO
3.12.1 预备知识
3.12.2 实战演练
3.12.3 补充内容
3.13 查找文件差异并进行修补
3.13.1 实战演练
3.13.2 补充内容
3.14 head 与 tail—— 打印文件的前 10 行和后 10 行
3.15 只列出目录的其他方法
3.15.1 预备知识
3.15.2 实战演练
3.16 在命令行中用 pushd 和 popd 快速定位
3.16.1 预备知识
3.16.2 实战演练
3.16.3 补充内容
3.17 统计文件的行数、单词数和字符数
3.17.1 预备知识
3.17.2 实战演练
3.17.3 补充知识
3.18 打印目录树
3.18.1 预备知识
3.18.2 实战演练
3.18.3 补充内容

## 第 4 章 让文本飞

4.1 简介
4.2 正则表达式入门
4.2.1 预备知识
4.2.2 实战演练
4.2.3 工作原理
4.2.4 补充内容
4.3 用 grep 在文件中搜索文本
4.3.1 预备知识
4.3.2 实战演练
4.3.3 补充内容
4.4 用 cut 按列切分文件
4.4.1 预备知识
4.4.2 实战演练
4.4.3 补充内容
4.5 统计特定文件中的词频
4.5.1 预备知识
4.5.2 实战演练
4.5.3 工作原理
4.5.4 参考
4.6 sed 入门
4.6.1 实战演练
4.6.2 补充内容
4.7 awk 入门
4.7.1 实战演练
4.7.2 工作原理
4.7.3 补充内容
4.8 替换文本或文件中的字符串
4.8.1 预备知识
4.8.2 实战演练
4.8.3 补充内容
4.8.4 参考
4.9 压缩或解压缩 JavaScript
4.9.1 预备知识
4.9.2 工作原理
4.9.3 工作原理
4.9.4 参考
4.10 对文件中的行、单词和字符进行迭代
4.10.1 预备知识
4.10.2 实战演练
4.10.3 工作原理
4.10.4 参考
4.11 按列合并文件
4.11.1 工作原理
4.11.2 参考
4.12 打印文件或行中的第 n 个单词或列
4.12.1 预备知识
4.12.2 实战演练
4.12.3 参考
4.13 打印不同行或样式之间的文本
4.13.1 预备知识
4.13.2 实战演练
4.13.3 参考
4.14 用脚本检验回文字符串
4.14.1 预备知识
4.14.2 工作原理
4.14.3 工作原理
4.14.4 补充内容
4.14.5 参考
4.15 以逆序形式打印行
4.15.1 预备知识
4.15.2 实战演练
4.15.3 工作原理
4.15.4 参考
4.16 解析文本中的电子邮件地址和 URL
4.16.1 预备知识
4.16.2 实战演练
4.16.3 工作原理
4.16.4 参考
4.17 打印文件中某个样式之前或之后的 n 行
4.17.1 预备知识
4.17.2 实战演练
4.17.3 参考
4.18 在文件中移除包含某个单词的句子
4.18.1 预备知识
4.18.2 实战演练
4.18.3 工作原理
4.18.4 参考
4.19 用 awk 实现 head、tail 和 tac
4.19.1 预备知识
4.19.2 实战演练
4.19.3 工作原理
4.19.4 参考
4.20 文本切片与参数操作
4.20.1 实战演练
4.20.2 参考

## 第 5 章 一团乱麻？没这回事

5.1 入门
5.2 网站下载
5.2.1 预备知识
5.2.2 实战演练
5.2.3 补充内容
5.3 以格式化纯文本形式下载网页
5.4 cURL 入门
5.4.1 预备知识
5.4.2 实战演练
5.4.3 补充内容
5.4.4 参考
5.5 从命令行访问 Gmail
5.5.1 实战演练
5.5.2 工作原理
5.5.3 参考
5.6 解析网站数据
5.6.1 实战演练
5.6.2 工作原理
5.6.3 参考
5.7 制作图片抓取器及下载工具
5.7.1 实战演练
5.7.2 工作原理
5.7.3 参考
5.8 网页相册生成器
5.8.1 预备知识
5.8.2 实战演练
5.8.3 工作原理
5.8.4 参考
5.9 Twitter 命令行客户端
5.9.1 预备知识
5.9.2 实战演练
5.9.3 工作原理
5.9.4 参考
5.10 基于 Web 后端的定义查询工具
5.10.1 预备知识
5.10.2 实战演练
5.10.3 工作原理
5.10.4 参考
5.11 查找网站中的无效链接
5.11.1 预备知识
5.11.2 实战演练
5.11.3 工作原理
5.11.4 参考
5.12 跟踪网站变更
5.12.1 预备知识
5.12.2 实战演练
5.12.3 工作原理
5.12.4 参考
5.13 以 POST 方式发送网页并读取响应
5.13.1 预备知识
5.13.2 实战演练
5.13.3 补充内容
5.13.4 参考

## 第 6 章 B 计划

6.1 简介
6.2 用 tar 归档
6.2.1 预备知识
6.2.2 实战演练
6.2.3 补充知识
6.2.4 参考
6.3 用 cpio 归档
6.4 用 gunzip 或 gzip 压缩
6.4.1 实战演练
6.4.2 补充内容
6.4.3 参考
6.5 用 bunzip 或 bzip 压缩
6.5.1 实战演练
6.5.2 补充内容
6.5.3 参考
6.6 用 lzma 压缩
6.6.1 实战演练
6.6.2 补充内容
6.6.3 参考
6.7 用 zip 归档和压缩
6.8 超高压缩率的 squashfs 文件系统
6.8.1 预备知识
6.8.2 实战演练
6.8.3 补充内容
6.9 加密工具与散列
6.10 用 raync 备份系统快照
6.10.1 实战演练
6.10.2 补充内容
6.11 用 Git 备份版本控制
6.11.1 预备知识
6.11.2 实战演练
6.12 用 dd 克隆磁盘
6.12.1 预备知识
6.12.2 实战演练
6.12.3 补充内容
6.12.4 参考

## 第 7 章 无网不利

7.1 简介
7.2 联网知识入门
7.2.1 新手上路
7.2.2 实战演练
7.2.3 补充内容
7.2.4 参考
7.3 使用 ping
7.3.1 实战演练
7.3.2 补充内容
7.4 列出网络上所有的活动主机
7.4.1 新手上路
7.4.2 实战演练
7.4.3 工作原理
7.4.4 补充内容
7.4.5 参考
7.5 传输文件
7.5.1 新手上路
7.5.2 实战演练
7.5.3 补充内容
7.5.4 参考
7.6 用脚本设置以太网与无线 LAN
7.6.1 新手上路
7.6.2 实战演练
7.6.3 工作原理
7.6.4 参考
7.7 用 SSH 实现无密码自动登录
7.8 用 SSH 在远程主机上运行命令
7.8.1 新手上路
7.8.2 实战演练
7.8.3 补充内容
7.8.4 参考
7.9 在本地挂载点上挂载远程驱动器
7.9.1 新手上路
7.9.2 实战演练
7.9.3 参考
7.10 在网络上发送多播式窗口消息
7.10.1 新手上路
7.10.2 实战演练
7.10.3 工作原理
7.10.4 参考
7.11 网络流量与端口分析
7.11.1 新手上路
7.11.2 实战演练
7.11.3 补充内容

## 第 8 章 当个好管家

8.1 简介
8.2 统计磁盘的使用情况
8.2.1 新手上路
8.2.2 实战演练
8.2.3 补充内容
8.3 计算命令执行时间
8.4 与当前登录用户、启动日志及启动故障的相关信息
8.4.1 新手上路
8.4.2 实战演练
8.5 打印出 10 条最常使用的命令
8.5.1 新手上路
8.5.2 实战演练
8.5.3 工作原理
8.6 列出 1 小时内占用 CPU 最多的 10 个进程
8.6.1 新手上路
8.6.2 实战演练
8.6.3 工作原理
8.6.4 参考
8.7 用 watch 监视命令输出
8.7.1 实战演练
8.7.2 补充内容
8.8 对文件及目录访问进行记录
8.8.1 新手上路
8.8.2 实战演练
8.8.3 工作原理
8.9 用 logrotate 管理日志文件
8.9.1 新手上路
8.9.2 实战演练
8.10 用 syslog 记录日志
8.10.1 新手上路
8.10.2 实战演练
8.10.3 参考
8.11 通过监视用户登录找出入侵者
8.11.1 新手上路
8.11.2 实战演练
8.11.3 工作原理
8.12 监视远程磁盘的健康情况
8.12.1 新手上路
8.12.2 实战演练
8.12.3 工作原理
8.12.4 参考
8.13 找出系统中用户的活动时段
8.13.1 新手上路
8.13.2 实战演练
8.13.3 工作原理

## 第 9 章 管理重任

9.1 简介
9.2 收集进程信息
9.2.1 新手上路
9.2.2 实战演练
9.2.3 补充内容
9.2.4 参考
9.3 杀死进程以及发送或响应信号
9.3.1 新手上路
9.3.2 实战演练
9.3.3 补充内容
9.4 which、whereis、file、whatis 与平均负载
9.5 向用户终端发送消息
9.5.1 新手上路
9.5.2 实战演练
9.5.3 工作原理
9.6 收集系统信息
9.7 用 /proc 收集信息
9.8 用 cron 进行调度
9.8.1 新手上路
9.8.2 实战演练
9.8.3 补充内容
9.9 从 Bash 中读写 MySQL 数据库
9.9.1 新手上路
9.9.2 实战演练
9.9.3 工作原理
9.10 用户管理脚本
9.10.1 实战演练
9.10.2 工作原理
9.11 图像文件的批量缩放及格式转换
9.11.1 新手上路
9.11.2 实战演练
9.11.3 工作原理
9.11.4 参考